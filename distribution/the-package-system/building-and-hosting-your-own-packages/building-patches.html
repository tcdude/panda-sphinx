

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building patches &mdash; Panda3D Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Panda3D Manual" href="../../../index.html"/>
        <link rel="up" title="Building and hosting your own packages" href="index.html"/>
        <link rel="next" title="Advanced scripting techniques" href="../../advanced-scripting-techniques/index.html"/>
        <link rel="prev" title="Building multiplatform packages" href="building-multiplatform-packages.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Panda3D
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro/index.html">Introduction to Panda3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../programming-with-panda3d/index.html">Programming with Panda3D</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Distributing Panda3D Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction-to-p3d-files/index.html">Introduction to p3d files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../distributing-via-the-web/index.html">Distributing via the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../p3d-file-config-settings.html">P3D file config settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../distributing-as-a-self-contained-installer.html">Distributing as a self-contained installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../the-runtime-panda3d-directory.html">The runtime Panda3D directory</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">The package system</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../standard-packages.html">Standard packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installing-packages.html">Installing packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../more-about-referencing-packages.html">More about referencing packages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Building and hosting your own packages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="using-ppackage.html">Using ppackage</a></li>
<li class="toctree-l4"><a class="reference internal" href="the-pdef-syntax.html">The pdef syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="creating-multiple-packages.html">Creating multiple packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="hosting-packages.html">Hosting packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="ssl-hosting.html">SSL hosting</a></li>
<li class="toctree-l4"><a class="reference internal" href="building-multiplatform-packages.html">Building multiplatform packages</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Building patches</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-scripting-techniques/index.html">Advanced scripting techniques</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples/index.html">Sample Programs in the Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../performance-tuning/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../using-c++/index.html">Using C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Panda3D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../building-from-source.html">Building Panda3D from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cheat-sheets.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started-on-osx.html">Getting Started on OSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../more-panda3d-resources.html">More Panda3D Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../thirdparty-licenses.html">Third-party dependencies and license info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../the-irc-channel.html">The IRC Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Panda3D</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Distributing Panda3D Applications</a> &raquo;</li>
      
          <li><a href="../index.html">The package system</a> &raquo;</li>
      
          <li><a href="index.html">Building and hosting your own packages</a> &raquo;</li>
      
    <li>Building patches</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/distribution/the-package-system/building-and-hosting-your-own-packages/building-patches.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-patches">
<span id="id1"></span><h1>Building patches<a class="headerlink" href="#building-patches" title="Permalink to this headline">Â¶</a></h1>
<p>One of the key advantages to Panda&#8217;s package system is that any updates you
make to a package are automatically downloaded and installed by users. You
don&#8217;t need to do anything special for this to work: simply rebuild a new
package using the ppackage tool with the latest contents, using the -i
parameter to point ppackage to your existing install directory. This will
generate new package data and update the contents.xml file accordingly. When
you then copy this install directory to your webserver host, p3d files that
reference your package will automatically download and install the new
contents for that package before they start to run.</p>
<p>This will mean all of your users will have to redownload the entire package
file, which may be a large download. As a convenience to your users (and to
relieve bandwidth burden on your servers), you may wish to provide patches
instead. This works on the assumption that most of the package contents are
not changing from one release to the next, and it allows your users who
already have the previous version of a package to download only the changes
necessary between the previous version and the current version, which is often
a much smaller download and will save considerable time and bandwidth.</p>
<p>To enable this, you simply run &#8220;ppatcher -i /my/install/dir&#8221;, where
/my/install/dir is your install directory that you have already populated with
ppackage.</p>
<p>The first time you run ppatcher on a particular install directory, it prepares
that directory for future patches, and declares the current revision number
&#8220;rev 1&#8221;. You may then use ppackage to build new versions of the packages in
that install directory.</p>
<p>The second and later times you run ppatcher, it builds patches from the
last-patched version to the current version now visible in the install
directory. Each time you run ppatcher, any packages in the install directory
with changes since the last ppatcher will be patched and the current revision
number will be incremented.</p>
<p>Thus, you should run ppatcher each time you are ready to make a formal release
of your modified code. This will allow the users to download the minimal
patches necessary to receive the latest code.</p>
<p>You may release intermediate versions for testing purposes without running
ppatcher. If you do, users who visit your servers will have to download the
entire file again, even if they already have a previous version installed.
This way, these users can test your changes and report success or failure; you
can continue to make new releases without running ppatcher and allow your
users to continue to test them. Then, when you are satisfied that the release
is ready for the world, you can run ppatcher to formalize it.</p>
<p>We don&#8217;t recommend running ppatcher for each intermediate release, because
each time you run ppatcher, a new patch file is added to the version chain.
This patch file will then forever be a part of the version chain (until it is
eventually aged out). Users who have an older version of the package will have
to download and apply all patch files in the chain in order to update to the
latest version. If there are many intermediate patch files in the chain, this
process will be slower and involve more bandwidth than if there are only a few
patch files.</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../advanced-scripting-techniques/index.html" class="btn btn-neutral float-right" title="Advanced scripting techniques" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="building-multiplatform-packages.html" class="btn btn-neutral" title="Building multiplatform packages" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Panda3D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>