

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>P3D origin security &mdash; Panda3D Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Panda3D Manual" href="../../index.html"/>
        <link rel="up" title="Advanced scripting techniques" href="index.html"/>
        <link rel="next" title="PackageInstaller" href="packageinstaller.html"/>
        <link rel="prev" title="Other appRunner members" href="apprunner/other-apprunner-members.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Panda3D
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Introduction to Panda3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming-with-panda3d/index.html">Programming with Panda3D</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Distributing Panda3D Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction-to-p3d-files/index.html">Introduction to p3d files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributing-via-the-web/index.html">Distributing via the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../p3d-file-config-settings.html">P3D file config settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributing-as-a-self-contained-installer.html">Distributing as a self-contained installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../the-runtime-panda3d-directory.html">The runtime Panda3D directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../the-package-system/index.html">The package system</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Advanced scripting techniques</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="detectpanda3d.js.html">DetectPanda3D.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced-object-tags.html">Advanced object tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="splash-window-tags.html">Splash window tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin-notify-callbacks.html">Plugin notify callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="apprunner/index.html">AppRunner</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">P3D origin security</a></li>
<li class="toctree-l3"><a class="reference internal" href="packageinstaller.html">PackageInstaller</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/index.html">Sample Programs in the Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance-tuning/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using-c++/index.html">Using C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Panda3D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building-from-source.html">Building Panda3D from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheat-sheets.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started-on-osx.html">Getting Started on OSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../more-panda3d-resources.html">More Panda3D Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../thirdparty-licenses.html">Third-party dependencies and license info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../the-irc-channel.html">The IRC Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Panda3D</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Distributing Panda3D Applications</a> &raquo;</li>
      
          <li><a href="index.html">Advanced scripting techniques</a> &raquo;</li>
      
    <li>P3D origin security</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/distribution/advanced-scripting-techniques/p3d-origin-security.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="p3d-origin-security">
<span id="id1"></span><h1>P3D origin security<a class="headerlink" href="#p3d-origin-security" title="Permalink to this headline">¶</a></h1>
<div class="section" id="script-origin">
<h2>script_origin<a class="headerlink" href="#script-origin" title="Permalink to this headline">¶</a></h2>
<p>In order to make it harder for a malicious web page to take advantage of an
inadvertent weakness in your p3d file&#8217;s security, most JavaScript code is
forbidden from calling Python methods exposed by your p3d file.</p>
<p>This is controlled by setting the script origin of your p3d file. The default
script origin is empty, which means that no web pages are allowed to call
Python functions in your p3d file from JavaScript. You can set the
script_origin string to a list of hostnames that are trusted; for instance,
if you set it to &#8220;www.mydomain.com&#8221;, then web pages hosted at
<a class="reference external" href="http://www.mydomain.com">http://www.mydomain.com</a> will be allowed to call your Python functions.</p>
<p>Note that this only affects calls into Python from JavaScript. Regardless of
the setting of script_origin, your Python code is always allowed to call any
JavaScript function. Thus, you only need to worry about setting the
script_origin if you need to write JavaScript code that calls Python
functions directly. If you are not certain whether you need this, you should
leave the script_origin setting alone.</p>
<p>The term &#8220;origin&#8221; is taken from JavaScript&#8217;s &#8220;same-origin&#8221; policy which
normally limits the web pages that a given JavaScript program may operate on.
The origin is defined as the protocol, host, and port of the URL that hosts
the p3d file. If you omit the protocol, then any protocol is allowed; if you
omit the port, then the default port is assumed. You may define the host as
either an explicit host, e.g. &#8220;www.mydomain.com&#8221;, or with one or more &#8220;*&#8221;
characters, which stands for any one component of a domain, e.g.
&#8220;*.mydomain.com&#8221; matches &#8220;alpha.mydomain.com&#8221; and &#8220;beta.mydomain.com&#8221; but not
&#8220;mydomain.com&#8221; or &#8220;www.alpha.mydomain.com&#8221;. The special code &#8220;**&#8221; stands for
any zero or more components, e.g. &#8220;**.mydomain.com&#8221; matches any of the
above, including &#8220;mydomain.com&#8221; and &#8220;www.alpha.mydomain.com&#8221;, but not
&#8220;yourdomain.com&#8221;.</p>
<p>If you really wish to remove restrictions for the script_origin, you can set
it to &#8220;**&#8221;, which means any host at all. We strongly recommend not doing
this, for obvious reasons.</p>
<p>You can also set the script_origin to a semicolon-delimited set of origin
strings; for instance, &#8220;www.mydomain.com;mydomain.com&#8221; would allow either
www.mydomain.com or mydomain.com, but not any other variant.</p>
<p>If a p3d file is hosted on a page that doesn&#8217;t match its script_origin, then
that page&#8217;s JavaScript code is forbidden from calling any Python methods
exposed the p3d file. It is also forbidden from accessing any attributes you
assign to appRunner.main, even for read-only access. (It is, however, allowed
to query certain built-in properties of main, such as main.downloadProgress or
main.read_system_log().)</p>
<p>You can set the script_origin with the -c parameter to packp3d, e.g. &#8220;-c
script_origin=www.mydomain.com&#8221;.</p>
</div>
<div class="section" id="run-origin">
<h2>run_origin<a class="headerlink" href="#run-origin" title="Permalink to this headline">¶</a></h2>
<p>A variant on the script_origin that is less often used is run_origin. This
is a stronger restriction than script_origin; if a p3d file is hosted on a
page that doesn&#8217;t match its run_origin, then the p3d file cannot be started
at all. You can do this to prevent third parties from deep-linking your p3d
file or otherwise running it out of its intended context. This is less of a
security restriction, and more a usage restriction on your own content. (Of
course, a malicious individual may make a copy your p3d file and modify the
run_origin setting, to allow it to run on their own page. But they will have
to re-sign it with their own certificate, since any modifications will
invalidate your own signature.)</p>
<p>The default run_origin is &#8220;**&#8221;, which means there is no restriction. You
can set the run_origin with the -c parameter to packp3d, e.g. &#8220;-c
run_origin=www.mydomain.com&#8221;.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="packageinstaller.html" class="btn btn-neutral float-right" title="PackageInstaller" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apprunner/other-apprunner-members.html" class="btn btn-neutral" title="Other appRunner members" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Panda3D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>