

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Bullet Collision Filtering &mdash; Panda3D Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Panda3D Manual" href="../../../index.html"/>
        <link rel="up" title="Using Bullet with Panda3D" href="index.html"/>
        <link rel="next" title="Bullet Continuous Collision Detection" href="ccd.html"/>
        <link rel="prev" title="Bullet Collision Shapes" href="collision-shapes.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Panda3D
          

          
          </a>

          
            
            
              <div class="version">
                1.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../intro/index.html">Introduction to Panda3D</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Programming with Panda3D</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../the-scene-graph/index.html">The Scene Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../the-configuration-file/index.html">The Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../models-and-actors/index.html">Models and Actors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../render-attributes/index.html">Render Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../texturing/index.html">Texturing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shaders/index.html">Shaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../camera-control/index.html">Camera Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sound/index.html">Sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intervals/index.html">Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tasks-and-event-handling/index.html">Tasks and Event Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../text-and-image-rendering/index.html">Text and Image Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../directgui/index.html">DirectGUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../render-effects/index.html">Render Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finite-state-machines/index.html">Finite State Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../terrain/index.html">Terrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../internal-structures/index.html">Advanced operations with Panda3D&#8217;s internal structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../render-to-texture-and-image-postprocessing/index.html">Render-to-Texture and Image Postprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panda3d-rendering-process/index.html">Panda3D Rendering Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panda3d-utility-functions.html">Panda3D Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../particle-effects/index.html">Particle Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../collision-detection/index.html">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../garbage-collection/index.html">Garbage Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware-support/index.html">Hardware support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math-engine/index.html">Math Engine</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Physics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../panda3d-physics-engine/index.html">Panda3D Physics Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ode/index.html">Using ODE with Panda3D</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Using Bullet with Panda3D</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hello-world.html">Bullet Hello World</a></li>
<li class="toctree-l4"><a class="reference internal" href="debug-renderer.html">Bullet Debug Renderer</a></li>
<li class="toctree-l4"><a class="reference internal" href="collision-shapes.html">Bullet Collision Shapes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Bullet Collision Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="ccd.html">Bullet Continuous Collision Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="queries.html">Bullet Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="ghosts.html">Bullet Ghosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="character-controller.html">Bullet Character Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="constraints.html">Bullet Constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="vehicles.html">Bullet Vehicles</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbodies.html">Bullet Softbodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbody-rope.html">Bullet Softbody Rope</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbody-patch.html">Bullet Softbody Patch</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbody-triangles.html">Bullet Softbody Triangles</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbody-tetrahedron.html">Bullet Softbody Tetrahedron</a></li>
<li class="toctree-l4"><a class="reference internal" href="softbody-config.html">Bullet Softbody Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="config-options.html">Bullet Config Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="faq.html">Bullet FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="samples.html">Bullet Samples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../motion-paths.html">Motion Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../timing/index.html">Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../networking/index.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multifiles/index.html">Multifiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../showbase.html">ShowBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../file-reading.html">File Reading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../threading.html">Threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subclassing.html">Subclassing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../table-of-features-supported-per-graphic-renderer.html">Table of features supported per graphic renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pandai/index.html">Artificial Intelligence (PANDAI)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../distribution/index.html">Distributing Panda3D Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples/index.html">Sample Programs in the Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../performance-tuning/index.html">Performance Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../using-c++/index.html">Using C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Panda3D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../building-from-source.html">Building Panda3D from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cheat-sheets.html">Cheat Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started-on-osx.html">Getting Started on OSX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../more-panda3d-resources.html">More Panda3D Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../thirdparty-licenses.html">Third-party dependencies and license info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../the-irc-channel.html">The IRC Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Panda3D</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Programming with Panda3D</a> &raquo;</li>
      
          <li><a href="../index.html">Physics</a> &raquo;</li>
      
          <li><a href="index.html">Using Bullet with Panda3D</a> &raquo;</li>
      
    <li>Bullet Collision Filtering</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/programming-with-panda3d/physics/bullet/collision-filtering.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bullet-collision-filtering">
<span id="collision-filtering"></span><h1>Bullet Collision Filtering<a class="headerlink" href="#bullet-collision-filtering" title="Permalink to this headline">¶</a></h1>
<p>By default all Bullet collision objects collide with all other Bullet
collision objects. Here the term &#8220;collision objects&#8221; referns to objects which
are derived from <code class="docutils literal"><span class="pre">BulletBodyNode</span></code>,
namely <code class="docutils literal"><span class="pre">BulletRigidBodyNode</span></code>,
<code class="docutils literal"><span class="pre">BulletGhostNode</span></code>,
<code class="docutils literal"><span class="pre">BulletSoftBodyNode</span></code>.</p>
<p>Bullet collision objects won&#8217;t collide with visible geometry, that is objects
of type GeomNode!</p>
<p>Sometime we need more control over who collides with whom. This can be
achieved by setting up collision filtering properly. Collision filtering is
done using bitmasks, which get assigned to every collision object.</p>
<div class="section" id="bit-masks">
<h2>Bit Masks<a class="headerlink" href="#bit-masks" title="Permalink to this headline">¶</a></h2>
<p>Bullet makes use of the regular Panda3D collide masks, which are instances of
<code class="docutils literal"><span class="pre">BitMask32</span></code>. Two objects collide if
the two masks have at least one bit in common. The following example shows a
selection of common ways to set up a bit mask. For more information please
refer to the manual page on <a class="reference internal" href="../../collision-detection/collision-bitmasks.html#collision-bitmasks"><span class="std std-ref">Collision Bitmasks</span></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">panda3d.core</span> <span class="kn">import</span> <span class="n">BitMask32</span>

<span class="n">mask1</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">.</span><span class="n">allOn</span><span class="p">()</span>
<span class="n">mask2</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">.</span><span class="n">allOff</span><span class="p">()</span>
<span class="n">mask3</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">.</span><span class="n">bit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">mask4</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">.</span><span class="n">bit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mask5</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="p">(</span><span class="mh">0x3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;panda3d/bitMask.h&quot;</span><span class="cp"></span>

<span class="n">BitMask32</span> <span class="n">mask1</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">::</span><span class="n">all_on</span><span class="p">();</span>
<span class="n">BitMask32</span> <span class="n">mask2</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">::</span><span class="n">all_off</span><span class="p">();</span>
<span class="n">BitMask32</span> <span class="n">mask3</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">::</span><span class="n">bit</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="n">BitMask32</span> <span class="n">mask4</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="o">::</span><span class="n">bit</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="n">BitMask32</span> <span class="n">mask5</span> <span class="o">=</span> <span class="n">BitMask32</span><span class="p">(</span><span class="mh">0x3</span><span class="p">);</span>
</pre></div>
</div>
<p>Given the above bit masks we would get the following results for collision:</p>
<dl class="docutils">
<dt>::</dt>
<dd>mask1 and mask2 = false
mask1 vs. mask3 = true
mask3 vs. mask4 = false
mask3 vs. mask5 = true
mask4 vs. mask5 = false</dd>
</dl>
</div>
<div class="section" id="group-masks">
<h2>Group Masks<a class="headerlink" href="#group-masks" title="Permalink to this headline">¶</a></h2>
<p>Sometimes BitMasks alone are not flexible enough to represent the
relationships between a large number of groups of objects. Group masks are
similar to bit masks in that each object belongs to a group, but instead of
collisions only occurring between objects that belong to the same group,
collision relationships are instead represented by a collision matrix. This
means that a larger number of groups can be represented in the same 32 bits of
a <code class="docutils literal"><span class="pre">BitMask32</span></code>.</p>
<p>To use group mask filtering instead of the default bit mask filtering
mentioned above, set the
<code class="docutils literal"><span class="pre">bullet-filter-algorithm</span></code> configuration variable
to <code class="docutils literal"><span class="pre">groups-mask</span></code>. The default
collision matrix is set to only collide objects that are in the same group. As
you make changes, the collision matrix is kept symmetrical along the line of
the diagonal for you. So if you set Group 0 to collide with Group 1, then
Group 1 will also automatically collide with Group 0.</p>
<p>The following collision matrix shows that the only collisions that occur are
between group 1 and group 2, and group 2 with itself.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&nbsp;</th>
<th class="head">Group 0</th>
<th class="head">Group 1</th>
<th class="head">Group 2</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Group 0</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="row-odd"><td>Group 1</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>False</td>
<td>True</td>
</tr>
<tr class="row-even"><td>Group 2</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>True</td>
</tr>
</tbody>
</table>
<p>The following code segment shows how this matrix is represented in code.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Group 0 never collides</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># Group 1 only collides with Group 2</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1"># Group 2 only collides with itself</span>
<span class="n">world</span><span class="o">.</span><span class="n">setGroupCollisionFlag</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="c1">// Group 0 never collides</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>

<span class="c1">// Group 1 only collides with Group 2</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>

<span class="c1">// Group 2 only collides with itself</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">set_group_collision_flag</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="group-assignment">
<h2>Group Assignment<a class="headerlink" href="#group-assignment" title="Permalink to this headline">¶</a></h2>
<p>The example below shows a typical setup for a rigid body. Only the last line
of the code block is new. Here we set the collide mask which specifies which
collision groups the object belongs to.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">shape</span> <span class="o">=</span> <span class="n">shape</span> <span class="o">=</span> <span class="n">BulletBoxShape</span><span class="p">(</span><span class="n">Vec3</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>

<span class="n">body</span> <span class="o">=</span> <span class="n">BulletRigidBodyNode</span><span class="p">(</span><span class="s1">&#39;Body&#39;</span><span class="p">)</span>
<span class="n">body</span><span class="o">.</span><span class="n">addShape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>

<span class="n">world</span><span class="o">.</span><span class="n">attachRigidBody</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

<span class="n">bodyNP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">worldNP</span><span class="o">.</span><span class="n">attachNewNode</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
<span class="n">bodyNP</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bodyNP</span><span class="o">.</span><span class="n">setCollideMask</span><span class="p">(</span><span class="n">mask1</span><span class="p">)</span> <span class="c1"># Here we set the collision mask</span>
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">BulletBoxShape</span> <span class="o">*</span><span class="n">box_shape</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BulletBoxShape</span><span class="p">(</span><span class="n">LVecBase3f</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">));</span>
<span class="n">BulletRigidBodyNode</span> <span class="o">*</span><span class="n">body_rigid_node</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BulletRigidBodyNode</span><span class="p">(</span><span class="s">&quot;Body&quot;</span><span class="p">);</span>
<span class="n">body_rigid_node</span><span class="o">-&gt;</span><span class="n">add_shape</span><span class="p">(</span><span class="n">box_shape</span><span class="p">);</span>
<span class="n">physics_world</span><span class="o">-&gt;</span><span class="n">attach</span><span class="p">(</span><span class="n">box_rigid_node</span><span class="p">);</span>

<span class="n">NodePath</span> <span class="n">np_body</span> <span class="o">=</span> <span class="n">window</span><span class="o">-&gt;</span><span class="n">get_render</span><span class="p">().</span><span class="n">attach_new_node</span><span class="p">(</span><span class="n">box_rigid_node</span><span class="p">);</span>
<span class="n">np_body</span><span class="p">.</span><span class="n">set_pos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">np_body</span><span class="p">.</span><span class="n">set_collide_mask</span><span class="p">(</span><span class="n">mask1</span><span class="p">);</span> <span class="c1">// Here we set the collision mask</span>
</pre></div>
</div>
<p>PandaNodes have two kinds of collide masks, a &#8220;from&#8221; collide mask and an
&#8220;into&#8221; collide mask. Panda3D&#8217;s internal collision system requires both masks
set, but when using Bullet physics only the &#8220;into&#8221; collide mask is used. The
following line is an alternate way to set the collide mask:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">bodyNP</span><span class="o">.</span><span class="n">node</span><span class="p">()</span><span class="o">.</span><span class="n">setIntoCollideMask</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">np_box</span><span class="p">.</span><span class="n">node</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">set_into_collide_mask</span><span class="p">(</span><span class="n">mask</span><span class="p">);</span>
</pre></div>
</div>
<p>This way of setting collide masks can be used for rigid bodies and ghost
objects. Soft body collisions (and soft body vs. rigid body collisions) are
more complex. Please see the manual pages about soft body configuration for
details.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ccd.html" class="btn btn-neutral float-right" title="Bullet Continuous Collision Detection" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="collision-shapes.html" class="btn btn-neutral" title="Bullet Collision Shapes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Panda3D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.10.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>